<script type="text/javascript">/* global RED */
    RED.nodes.registerType('submit-order',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""},
            symbol:{value:""},
            ordertype: {value:"limit"},
            qty: {value:0},
            price: {value:0.0},
            tif: {value:"day"},
            side: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"submit order";
        }
    });
    RED.nodes.registerType('get-order',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"get orders";
        }
    });
    RED.nodes.registerType('get-bars',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""},
            symbol: {value:""},
            limit: {value:20}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"get bars - " + this.symbol;
        		
        }
    });
    RED.nodes.registerType('get-account',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"get account";
        }
    });
</script>

<script type="text/html" data-template-name="submit-order">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-symbol"><i class="fa fa-tag"></i> Symbol</label>
        <input type="text" id="node-input-symbol" placeholder="Symbol">
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.symbol</code> overwrites this value</small>
    </div>
    <div class="form-row">
        <label for="node-input-ordertype"><i class="fa fa-question"></i> Order Type</label>
        <select id="node-input-ordertype" placeholder="Order Type">            
            <option value="market">Market</option>
            <option value="limit">Limit</option>
            <option value="stop">Stop</option>
            <option value="stop_limit">Stop Limit</option>
        </select>
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.ordertype</code> overwrites this value</small>
        <br />
        <small style="padding-left: 100px;">"market" | "limit" | "stop" | "stop_limit"</small>
    </div>
    <div class="form-row">
        <label for="node-input-qty"><i class="fa fa-hashtag"></i> Quantity</label>
        <input type="text" id="node-input-qty" placeholder="0">
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.qty</code> overwrites this value</small>
    </div>
    <div class="form-row">
        <label for="node-input-price"><i class="fa fa-usd"></i> Price</label>
        <input type="text" id="node-input-price" placeholder="0.0">
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.price</code> overwrites this value</small>
        <br />
        <small style="padding-left: 100px;">Value is ignored if Order Type is "market"</small>
    </div>
    <div class="form-row">
        <label for="node-input-side"><i class="fa fa-suitcase"></i> Side</label>
        <select id="node-input-side" placeholder="Side">
            <option value="buy">Buy</option>
            <option value="sell">Sell</option>
        </select>
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.side</code> overwrites this value</small>
        <br />
        <small style="padding-left: 100px;">"buy" | "sell"</small>
    </div>
    <div class="form-row">
        <label for="node-input-tif"><i class="fa fa-clock-o"></i> Time In Force</label>
        <select id="node-input-tif" placeholder="Day">
            <option value="day">Day</option>
            <option value="gtc">Good-til-close</option>
        </select>
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.tif</code> overwrites this value</small>
        <br />
        <small style="padding-left: 100px;">"day" | "gtc"</small>
    </div>
</script>

<script type="text/html" data-help-name="submit-order">
    <p>Node for submitting orders to Alpaca </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>


<script type="text/html" data-template-name="get-order">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/html" data-help-name="get-order">
    <p>Node for retrieving a list of orders associated with your account </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>


<script type="text/html" data-template-name="get-account">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/html" data-help-name="get-account">
    <p>Node for retrieving your account details </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>


<script type="text/html" data-template-name="get-bars">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-symbol"><i class="fa fa-tag"></i> Symbol</label>
        <input type="text" id="node-input-symbol" placeholder="Symbol">
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.symbol</code> overwrites this value</small>
    </div>
    <div class="form-row">
        <label for="node-input-limit"><i class="fa fa-history"></i> Limit</label>
        <input type="text" id="node-input-limit" placeholder="Limit">
        <br />
        <small style="padding-left: 100px;">Incoming <code>msg.payload.limit</code> overwrites this value</small>
    </div>
</script>

<script type="text/html" data-help-name="get-bars">
    <p>Node for retrieving your account details </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>
