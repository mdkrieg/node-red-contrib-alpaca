<script type="text/javascript">/* global RED */

    RED.nodes.registerType('submit-order',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""},
            symbol:{value:""},
            ordertype: {value:"market"},
            qty: {value:0},
            limit_price: {value:0},
            stop_price: {value:0},
            tif: {value:"day"},
            side: {value:""},
			auth: {value:"", type:"alpaca-config"}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"submit order";
        }
    });
    RED.nodes.registerType('get-orders',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""},
			auth: {value:"", type:"alpaca-config"}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"get orders";
        }
    });
    RED.nodes.registerType('get-bars',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""},
            symbol: {value:""},
            limit: {value:20},
			auth: {value:"", type:"alpaca-config"}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"get bars";
        		
        }
    });
    RED.nodes.registerType('get-account',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""},
			auth: {value:"", type:"alpaca-config"}
        },
        inputs:1,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"get account";
        }
    });
    RED.nodes.registerType('on-event',{
        category: 'alpaca',
        color: '#EEEEEE',
        defaults: {
            name: {value:""},
			auth: {value:"", type:"alpaca-config"}
        },
        inputs:0,
        outputs:1,
        icon: "alpaca.svg",
        label: function() {
            return this.name||"on event";
        }
    });
</script>


<script type="text/x-red" data-template-name="submit-order">
    <div class="form-row">
        <label for="node-input-auth"><i class="fa fa-key"></i> Auth</label>
        <input type="text" id="node-input-auth" placeholder="API Keys">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-symbol"><i class="fa fa-tag"></i> Symbol</label>
        <input type="text" id="node-input-symbol" placeholder="Symbol">
        <br />
        <small style="padding-left: 100px;">Incoming <code>.symbol</code> overwrites this value</small>
    </div>
    <div class="form-row">
        <label for="node-input-ordertype"><i class="fa fa-question"></i> Order Type</label>
        <select id="node-input-ordertype" placeholder="Order Type">            
            <option value="market">Market</option>
            <option value="limit">Limit</option>
            <option value="stop">Stop</option>
            <option value="stop_limit">Stop Limit</option>
        </select>
        <br />
        <small style="padding-left: 100px;">Incoming <code>.ordertype</code> overwrites this value</small>
        <br />
        <small style="padding-left: 100px;">"market" | "limit" | "stop" | "stop_limit"</small>
    </div>
    <div class="form-row">
        <label for="node-input-qty"><i class="fa fa-hashtag"></i> Quantity</label>
        <input type="text" id="node-input-qty" placeholder="0">
        <br />
        <small style="padding-left: 100px;">Incoming <code>.qty</code> overwrites this value</small>
    </div>
    <div class="form-row" id="order-limit_price">
        <label for="node-input-limit_price"><i class="fa fa-usd"></i> Limit Price</label>
        <input type="text" id="node-input-limit_price" placeholder="0.0">
        <br />
        <small style="padding-left: 100px;">Incoming <code>.limit_price</code> overwrites this value</small>
    </div>
    <div class="form-row" id="order-stop_price">
        <label for="node-input-stop_price"><i class="fa fa-usd"></i> Stop Price</label>
        <input type="text" id="node-input-stop_price" placeholder="0.0">
        <br />
        <small style="padding-left: 100px;">Incoming <code>.stop_price</code> overwrites this value</small>
    </div>
    <div class="form-row">
        <label for="node-input-side"><i class="fa fa-suitcase"></i> Side</label>
        <select id="node-input-side" placeholder="Side">
            <option value="buy">Buy</option>
            <option value="sell">Sell</option>
        </select>
        <br />
        <small style="padding-left: 100px;">Incoming <code>.side</code> overwrites this value</small>
        <br />
        <small style="padding-left: 100px;">"buy" | "sell"</small>
    </div>
    <div class="form-row">
        <label for="node-input-tif"><i class="fa fa-clock-o"></i> Time In Force</label>
        <select id="node-input-tif" placeholder="Day">
            <option value="day">Day</option>
            <option value="gtc">Good-til-close</option>
        </select>
        <br />
        <small style="padding-left: 100px;">Incoming <code>.tif</code> overwrites this value</small>
        <br />
        <small style="padding-left: 100px;">"day" | "gtc"</small>
    </div>
</script>

<script type="text/x-red" data-help-name="submit-order">
    <p>Node for submitting orders to Alpaca </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>


<script type="text/x-red" data-template-name="get-orders">
    <div class="form-row">
        <label for="node-input-auth"><i class="fa fa-key"></i> Auth</label>
        <input type="text" id="node-input-auth" placeholder="API Keys">
    </div>
    <div class="form-row">
        <label for="node-input-limit"><i class="fa-fa-hashtag"></i> Return Limit</label>
        <input type="text" id="node-input-limit" placeholder="Limit">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="get-orders">
    <p>Node for retrieving a list of orders associated with your account </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>


<script type="text/x-red" data-template-name="get-account">
    <div class="form-row">
        <label for="node-input-auth"><i class="fa fa-key"></i> Auth</label>
        <input type="text" id="node-input-auth" placeholder="API Keys">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="get-account">
    <p>Node for retrieving your account details </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>


<script type="text/x-red" data-template-name="get-bars">
    <div class="form-row">
        <label for="node-input-auth"><i class="fa fa-key"></i> Auth</label>
        <input type="text" id="node-input-auth" placeholder="API Keys">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-symbol"><i class="fa fa-tag"></i> Symbol</label>
        <input type="text" id="node-input-symbol" placeholder="Symbol">
        <br />
        <small style="padding-left: 100px;">Incoming <code>.symbol</code> overwrites this value</small>
    </div>
    <div class="form-row">
        <label for="node-input-limit"><i class="fa fa-history"></i> Limit</label>
        <input type="text" id="node-input-limit" placeholder="Limit">
        <br />
        <small style="padding-left: 100px;">Incoming <code>.limit</code> overwrites this value</small>
    </div>
</script>

<script type="text/x-red" data-help-name="get-bars">
    <p>Node for retrieving your account details </p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
</script>

<script type="text/x-red" data-template-name="on-event">
    <div class="form-row">
        <label for="node-input-auth"><i class="fa fa-key"></i> Auth</label>
        <input type="text" id="node-input-auth" placeholder="API Keys">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="on-event">
    <p>Node for reacting various events such as order and account status changes</p>
       <h3>Outputs</h3>
       <dl class="message-properties">
       <dt>payload
           <span class="property-type">object</span>
       </dt>
   <h3>Details</h3>
   <p>Payload is the full response object from the API</p>
       <dt>topic
           <span class="property-type">string</span>
       </dt>
   <h3>Details</h3>
   <p>Topic is the type of event being emitted from the node</p>
</script>
